<!DOCTYPE html>
<html lang="en">
<head>  
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="kat.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tinos:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <title>Каталог</title>
</head>
<body>
    <div class="header">
        <div class="container">   
            <div class="header-line">
                <div class="header-logo">
                    <img src="img/logo.png">
                </div>

                <div class="nav">
                    <a class="nav-item" href="index.html">ГЛАВНАЯ</a>
                    <a class="nav-item" href="katalog_japan.html">ТОВАРЫ</a>
                    <a class="nav-item" href="o nas.html">О НАС</a>
                    <a class="nav-item" href="otziv.html">ОСТАВИТЬ ОТЗЫВ</a>
                </div>
                <div class="cart">
                    <a href="korzina.html" class="cart-link">
                        <img class="cart-img" src="img/korzina.png">
                        <span class="cart-count">0</span>
                        <span class="total-price">0.00</span>
                    </a>
                    <button class="clear-cart">Очистить корзину</button>
                </div>
                <div class="btn">
                    <a class="button" href="korzina.html">ОФОРМИТЬ ЗАКАЗ</a>
                </div>     
                
            </div>
        </div>  
        <div class="bottom-nav">
        <div class="container">
            <div class="bottom-nav-buttons">
                <a class="bottom-nav-item" href="katalog_japan.html">ЯПОНИЯ</a>
                <a class="bottom-nav-item" href="katalog_japan.html">КИТАЙ</a>
                <a class="bottom-nav-item" href="katalog_korea.html">КОРЕЯ</a>
                <a class="bottom-nav-item" href="katalog_tailand.html">ТАИЛАНД</a>
                <a class="bottom-nav-item" href="katalog_vetnam.html">ВЬЕТНАМ</a>
            </div>
        </div>
    </div>
    <section class="cards">
        <div class="containerr containerr-cards">
             <div class="card">
                  <div class="card_top">
                    <a href="#" class="card_image">
                      <img src="img/1c.jpg"/>
                    </a>
                  </div>
                  <div class="card_bottom">
                    <div class="card_prices">
                      <div class="card_price card_price-common">140</div>
                    </div>
                    <a href="kart_china_1.html" class="card_title">
                      Мармелад из боярышника многослойный Sengkui
                    </a>
                    <button class="card_add">В корзину</button>
                  </div>
            </div>

            <div class="card">
                  <div class="card_top">
                    <a href="#" class="card_image">
                      <img src="img/2c.png"/>
                    </a>
                  </div>
                  <div class="card_bottom">
                    <div class="card_prices">
                      <div class="card_price card_price-common">69</div>
                    </div>
                    <a href="kart_china_2.html" class="card_title">
                      Желе питьевое с конняку со вкусом граната 16kcal Blike
                    </a>
                    <button class="card_add">В корзину</button>
                  </div>
            </div>
            <div class="card">
                  <div class="card_top">
                    <a href="#" class="card_image">
                      <img src="img/4c.jpg"/>
                    </a>
                  </div>
                  <div class="card_bottom">
                    <div class="card_prices">
                      <div class="card_price card_price-common">260</div>
                    </div>
                    <a href="kart_china_3.html" class="card_title">
                      Моти со вкусом манго Huining
                    </a>
                    <button class="card_add">В корзину</button>
                  </div>
            </div>
            <div class="card">
                  <div class="card_top">
                    <a href="#" class="card_image">
                      <img src="img/3c.jpg"/>
                    </a>
                  </div>
                  <div class="card_bottom">
                    <div class="card_prices">
                      <div class="card_price card_price-common">75</div>
                    </div>
                    <a href="kart_china_4.html" class="card_title">
                      Жевательные конфеты со вкусом клубники Hengli Mouni
                    </a>
                    <button class="card_add">В корзину</button>
                  </div>
            </div>

        </div>
    </section>   
    <script>
           document.addEventListener('DOMContentLoaded', function() {
    const addToCartButtons = document.querySelectorAll('.card_add');
    const clearCartButton = document.querySelector('.clear-cart');
    const cartCount = document.querySelector('.cart-count');
    const totalPriceDisplay = document.querySelector('.total-price');

    let itemCount = localStorage.getItem('itemCount') ? parseInt(localStorage.getItem('itemCount')) : 0;
    let totalPrice = localStorage.getItem('totalPrice') ? parseFloat(localStorage.getItem('totalPrice')) : 0;

    cartCount.textContent = itemCount;
    totalPriceDisplay.textContent = totalPrice.toFixed(2);

    addToCartButtons.forEach(button => {
        button.addEventListener('click', function() {
            itemCount++;
            cartCount.textContent = itemCount;

            const priceElement = this.closest('.card').querySelector('.card_price-common');
            const price = parseFloat(priceElement.textContent);
            totalPrice += price;
            totalPriceDisplay.textContent = totalPrice.toFixed(2);

            // Сохранение данных в Local Storage
            localStorage.setItem('itemCount', itemCount);
            localStorage.setItem('totalPrice', totalPrice);
        });
    });

    clearCartButton.addEventListener('click', function() {
        // Очистка Local Storage
        localStorage.removeItem('itemCount');
        localStorage.removeItem('totalPrice');
        
        // Обновление отображения количества и суммы на странице
        cartCount.textContent = '0';
        totalPriceDisplay.textContent = '0.00';

        // Обновление переменных itemCount и totalPrice
        itemCount = 0;
        totalPrice = 0;
    });
});
    </script>

</body>
</html>